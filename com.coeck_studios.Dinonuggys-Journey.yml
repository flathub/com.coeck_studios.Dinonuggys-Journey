app-id: com.coeck_studios.Dinonuggys-Journey
runtime: org.freedesktop.Platform
runtime-version: '21.08'
base: org.godotengine.godot.BaseApp
base-version: '3.4'
sdk: org.freedesktop.Sdk
command: godot-runner
finish-args:
  - "--share=ipc"
  - "--socket=x11"
  - "--socket=pulseaudio"
  - "--device=dri"
modules:
  - name: Dinonuggys-Journey
    buildsystem: simple
    build-commands:
      - install -D 97275955-2e3e-43ba-b5ba-7ee68ea02f00 /app/bin/godot-runner.pck
      - install -D LICENSE.md /app/bin/LICENSE.md
      - mv de9fe48e-08cb-41c9-b43a-8841510d5043 icons.tar.gz
      - tar xvf icons.tar.gz
      - >
        for icon_width in 128 192 512; do
          install -D icons/usr/share/icons/hicolor/"$icon_width"x"$icon_width"/apps/dinonuggys-journey.png /app/share/icons/hicolor/"$icon_width"x"$icon_width"/apps/com.coeck_studios.Dinonuggys-Journey.png
        done
      - install -D com.coeck_studios.Dinonuggys-Journey.desktop /app/share/applications/com.coeck_studios.Dinonuggys-Journey.desktop
      - install -D com.coeck_studios.Dinonuggys-Journey.appdata.xml /app/share/metainfo/com.coeck_studios.Dinonuggys-Journey.appdata.xml
    sources:
      - type: archive
        url: https://codeberg.org/CoEck/Dinonuggys-Journey/archive/v0.70.1.tar.gz
        sha256: 1ebf004da26467a76e8cdbbe59a606c872c1fd9d50df57e7a0922191ddfc5e24
      - type: file
        url: https://codeberg.org/attachments/97275955-2e3e-43ba-b5ba-7ee68ea02f00
        sha256: 2db8aa56be30d9fb46cbbcc91fde6f9308e8d2e2cdc7074ce014cee1b8024abb
      - type: file
        url: https://codeberg.org/attachments/de9fe48e-08cb-41c9-b43a-8841510d5043
        sha256: 66cbd1d44bdcf829620d949e797b639c3e2cfea50b99b33434d632aa607fff30
